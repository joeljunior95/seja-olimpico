<!DOCTYPE html>
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="js/jquery-2.1.4.min.js"></script>
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <script src="js/bootstrap.min.js"></script>
        <script src="js/svg4everybody.js"></script>
        <script src="js/raphael-min.js"></script>
        <style>
            circle{
                z-index: 99;
            }
            line{
                z-index: 10;
            }
        </style>
    </head>
    <body>
        <div id="teia-svg">
            <!--            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                             viewBox="0 0 1024 768" enable-background="new 0 0 1024 768" xml:space="preserve" onload="loadSvg(this)">
            
                        <circle class="circle" onclick="func(this.parentNode, this)" fill="#CCCCCC" cx="146.7" cy="92" r="13"/>
                        <text transform="matrix(1 0 0 1 109.4467 135.1098)" font-family="'MyriadPro-Regular'" font-size="24.2249">Futebol</text>
            
                        <circle class="circle" onclick="func(this.parentNode, this)" fill="#CCCCCC" cx="331.5" cy="547" r="13.5"/>
                        <text transform="matrix(1 0 0 1 306.7302 594.6094)" font-family="'MyriadPro-Regular'" font-size="24.2249">VolÃªi</text>
            
                        <circle class="circle" onclick="func(this.parentNode, this)" fill="#CCCCCC" cx="516.1" cy="325" r="13"/>
                        <text transform="matrix(1 0 0 1 478.9363 370.11)" font-family="'MyriadPro-Regular'" font-size="24.2249">Corrida</text>
            
                        <circle class="circle" onclick="func(this.parentNode, this)" fill="#CCCCCC" cx="727.1" cy="72" r="24"/>
                        <text transform="matrix(1 0 0 1 678.8239 121.6101)" font-family="'MyriadPro-Regular'" font-size="24.2249">Basquete</text>
            
                        <circle class="circle" onclick="func(this.parentNode, this)" fill="#CCCCCC" cx="851.1" cy="456.6" r="12"/>
                        <text transform="matrix(1 0 0 1 831.3718 499.6759)" font-family="'MyriadPro-Regular'" font-size="24.2249">Surf</text>
            
                        <circle class="circle" onclick="func(this.parentNode, this)" fill="#CCCCCC" cx="649.6" cy="606.6" r="21.3"/>
                        <text transform="matrix(1 0 0 1 623.836 654.0024)" font-family="'MyriadPro-Regular'" font-size="24.2249">Golfe</text>
                        </svg>-->
        </div>
        <script>
            var first;
            var loadSvg = function (svg) {
                svg4everybody();
                if (typeof (Storage) !== "undefined") {
                    if (localStorage.getItem('teia')) {
                        svg.innerHTML = localStorage.getItem('teia');
                        return true;
                    }
                }
                return false;
            };
            var func = function (svg, circle) {
                if (!first) {
                    first = circle;
                    circle.setAttribute("fill", "#A51919");
                } else if (first !== circle) {
                    circle.setAttribute("fill", "#A51919");
                    var html = svg.innerHTML + "<path fill='none' stroke='#A51919' stroke-width='3' stroke-miterlimit='10' d='M" +
                            first.getAttribute("cx") + " " + first.getAttribute("cy") +
                            " L" + circle.getAttribute("cx") + " " + circle.getAttribute("cy") + "' />";
                    svg.innerHTML = html;
                    first = '';
                    if (typeof (Storage) !== "undefined") {
                        localStorage.setItem("teia", svg.innerHTML);
                    }
                }
            };

            window.onload = function () {
                svg4everybody();
                var paper = new Raphael(document.getElementById('teia-svg'), 1024, 768);
                paper.circle(146.7, 92, 13);
                paper.circle(331.5, 547, 13.5);
                paper.circle(516.1, 325, 13);
                paper.circle(727.1, 72, 24);
                paper.circle(851.1, 456.6, 12);
                paper.circle(649.6, 606.6, 21.3);

                var svg = document.getElementById('teia-svg').firstChild;
                if (!loadSvg(svg)) {
                    var circles = svg.childNodes;

                    for (var i = 0; i < circles.length; i++) {
                        if (circles[i].nodeName === 'circle') {
                            circles[i].setAttribute("onclick", "func(this.parentNode, this)");
                            circles[i].setAttribute("fill", "#CCCCCC");
                        }
                    }
                }
                svg4everybody();
            };
        </script>
    </body>
</html>
